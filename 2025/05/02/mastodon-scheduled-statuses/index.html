<!DOCTYPE html><html lang="zh-cn"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="é•¿æ¯›è±¡å®šæ—¶å‘æ–‡"><meta name="keywords" content="è¨€è®ºè‡ªç”±åªåœ¨è¿™é‡Œ,çˆ±ğŸ˜TV,è¶…é•¿ä»£ç é¢„è­¦,éä¿å§†çº§æ•™ç¨‹,å“ˆåŸºè±¡æ¬ çˆ±äº†,é•¿æ¯›è±¡å‰ç«¯,éåŸºç¡€,é•¿æ¯›è±¡è®¡åˆ’å‘å˜Ÿ"><meta name="author" content="å¦™ç“¦è‰,undefined"><meta name="copyright" content="å¦™ç“¦è‰"><meta name="fediverse:creator" content="@Network@cmx.dzm.pp.ua"><link rel="me" href="https://cmx.dzm.pp.ua/@Network"><title>é•¿æ¯›è±¡å®šæ—¶å‘æ–‡ã€å¦™ç“¦ç§å­ã€‘</title><link rel="stylesheet" href="../../../../css/fan.css"><link rel="stylesheet" href="../../../../css/thirdparty/jquery.mCustomScrollbar.min.css"><link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css"><link rel="icon" href="../../../../favicon.ico"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.4/dist/instantsearch.min.css"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.4/dist/instantsearch-theme-algolia.min.css"><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.4"></script><!-- link(rel="dns-prefetch" href="https://cdn.jsdelivr.net")--><!-- link(rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.1.1/dist/instantsearch.min.css")--><!-- script(src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.1.1/dist/instantsearch.min.js" defer)--><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- script(src=url_for("/js/mathjax/mathjax.js"))--><script type="text/x-mathjax-config">MathJax.Hub.Config({
    tex2jax: {inlineMath: [['$', '$'], ['\\(', '\\)']]}
});
</script><script>var isPassword = '' || false;
if (isPassword) {
    if (prompt('è¯·è¾“å…¥æ–‡ç« å¯†ç ') !== '') {
        alert('å¯†ç é”™è¯¯ï¼');
        history.back();
    }
}</script><script>window.GLOBAL_CONFIG = {
  root: '/',
  algolia: {"appId":"BLFJMI3OZT","apiKey":"bfca30d788c8947af1865ed33655b646","indexName":"blog","hits":{"per_page":10},"languages":{"input_placeholder":"æœç´¢æ–‡ç« ","hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹:${query}","hits_stats":"æ‰¾åˆ° ${hits} æ¡ç»“æœï¼Œç”¨æ—¶ ${time} æ¯«ç§’"}},
  localSearch: undefined,
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  gitment: {},
  valine: {"appId":"xASAWVJMlgR6Z0IAumJosLmQ-MdYXbMMI","appKey":"hrSzqoj09CVByDzUeBMDEjuF","serverURLs":"https://xasawvjm.api.lncldglobal.com"},
  twikoo: {},
}</script><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="atom.xml" title="å¦™ç“¦ç§å­" type="application/atom+xml">
</head><body><canvas id="universe"></canvas><!--#body--><div id="sidebar"><div class="toggle-sidebar-info button-hover"><span data-toggle="æ–‡ç« ç›®å½•">ç«™ç‚¹æ¦‚è§ˆ</span></div><div class="sidebar-toc"><div class="sidebar-toc-title">ç›®å½•</div><div class="sidebar-toc-progress"><span class="progress-notice">æ‚¨å·²é˜…è¯»äº†</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc-progress-bar"></div></div><div class="sidebar-toc-content" id="sidebar-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9C%80%E6%B1%82%E8%83%8C%E6%99%AF"><span class="toc-number">1.</span> <span class="toc-text">éœ€æ±‚èƒŒæ™¯</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#FediPlan"><span class="toc-number">1.1.</span> <span class="toc-text">FediPlan</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%98%9F%E6%96%87%E5%8F%91%E9%80%81%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86"><span class="toc-number">2.</span> <span class="toc-text">å˜Ÿæ–‡å‘é€çš„åŸºæœ¬åŸç†</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Redux%E7%9A%84%E9%80%BB%E8%BE%91%E6%B5%85%E6%9E%90"><span class="toc-number">2.1.</span> <span class="toc-text">Reduxçš„é€»è¾‘æµ…æ</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E9%AD%94%E6%94%B9"><span class="toc-number">3.</span> <span class="toc-text">ä»£ç é­”æ”¹</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%95%BF%E6%AF%9B%E8%B1%A1%E4%B8%BB%E9%A2%98%E7%9A%84%E4%BF%AE%E6%94%B9"><span class="toc-number">4.</span> <span class="toc-text">é•¿æ¯›è±¡ä¸»é¢˜çš„ä¿®æ”¹</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BB%93%E8%AF%AD"><span class="toc-number">5.</span> <span class="toc-text">ç»“è¯­</span></a></li></ol></div></div><div class="author-info hide"><div class="author-info-avatar"><img class="author-info-avatar-img" src="/avatar.jpg"></div><div class="author-info-name">å¦™ç“¦è‰</div><div class="author-info-description"></div><div class="links-buttons"><a class="links-button button-hover" href="https://github.com/dongzhimin-xz" target="_blank">GitHub<i class="icon-dot bg-color9"></i></a><a class="links-button button-hover" href="https://cmx.dzm.pp.ua/@Network" target="_blank">é•¿æ¯›è±¡<i class="icon-dot bg-color3"></i></a><a class="links-button button-hover" href="https://bsky.app/profile/dzm.pp.ua" target="_blank">BlueSky<i class="icon-dot bg-color3"></i></a></div><div class="author-info-articles"><a class="author-info-articles-archives article-meta" href="../../../../archives"><span class="pull-top">æ—¥å¿—</span><span class="pull-bottom">13</span></a><a class="author-info-articles-tags article-meta" href="../../../../tags"><span class="pull-top">æ ‡ç­¾</span><span class="pull-bottom">22</span></a><a class="author-info-articles-categories article-meta" href="../../../../categories"><span class="pull-top">åˆ†ç±»</span><span class="pull-bottom">21</span></a></div><div class="friend-link"><a class="friend-link-text" href="https://dzm.pp.ua/" target="_blank">ä¸ªäººä¸»é¡µ</a><a class="friend-link-text" href="https://cmx.dzm.pp.ua/" target="_blank">é•¿æ¯›è±¡å®ä¾‹</a></div></div></div><div id="main-container"><header><div id="menu-outer"><i class="menu-list-icon fas fa-bars"></i><nav id="menu-inner"><a class="menu-item" href="/">é¦–é¡µ</a><a class="menu-item" href="/tags">æ ‡ç­¾</a><a class="menu-item" href="/categories">åˆ†ç±»</a><a class="menu-item" href="/archives">å½’æ¡£</a><a class="menu-item" href="/about">å…³äº</a></nav><div class="right-info"><a class="search social-icon"><i class="fas fa-search"></i><span> æœç´¢</span></a><a class="title-name" href="/">å¦™ç“¦ç§å­</a><span id="now-time"></span></div></div></header><div id="content-outer"><div id="content-inner"><article id="post"><div class="post-header"><div class="title">é•¿æ¯›è±¡å®šæ—¶å‘æ–‡</div><div class="container"><time class="button-hover post-date"><i class="fas fa-calendar-alt article-icon" aria-hidden="true"></i> å‘è¡¨äº 2025-05-02 | æ›´æ–°äº 2025-05-18</time><!--time.button-hover.post-date #[i.fas.fa-calendar-alt.article-icon(aria-hidden="true")] #[=__('post.modified')] #[=date(page['updated'], config.date_format)]--><div class="button-hover categories"><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="../../../../categories/%E5%BB%BA%E7%AB%99%E6%8A%80%E6%9C%AF/">å»ºç«™æŠ€æœ¯</a><i class="fa fa-angle-right" style="margin: 0 8px;"></i><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="../../../../categories/%E5%BB%BA%E7%AB%99%E6%8A%80%E6%9C%AF/%E9%95%BF%E6%AF%9B%E8%B1%A1%E9%87%8D%E5%BA%A6%E9%AD%94%E6%94%B9/">é•¿æ¯›è±¡é‡åº¦é­”æ”¹</a><i class="fa fa-angle-right" style="margin: 0 8px;"></i><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="../../../../categories/%E5%BB%BA%E7%AB%99%E6%8A%80%E6%9C%AF/%E9%95%BF%E6%AF%9B%E8%B1%A1%E9%87%8D%E5%BA%A6%E9%AD%94%E6%94%B9/%E9%95%BF%E6%AF%9B%E8%B1%A1%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/">é•¿æ¯›è±¡å‰ç«¯å¼€å‘</a><i class="fa fa-angle-right" style="margin: 0 8px;"></i><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="../../../../categories/%E5%BB%BA%E7%AB%99%E6%8A%80%E6%9C%AF/%E9%95%BF%E6%AF%9B%E8%B1%A1%E9%87%8D%E5%BA%A6%E9%AD%94%E6%94%B9/%E9%95%BF%E6%AF%9B%E8%B1%A1%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E9%95%BF%E6%AF%9B%E8%B1%A1%E5%AE%9A%E6%97%B6%E5%8F%91%E6%96%87/">é•¿æ¯›è±¡å®šæ—¶å‘æ–‡</a></div><div class="button-hover tags"><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="../../../../tags/%E8%A8%80%E8%AE%BA%E8%87%AA%E7%94%B1%E5%8F%AA%E5%9C%A8%E8%BF%99%E9%87%8C/">è¨€è®ºè‡ªç”±åªåœ¨è¿™é‡Œ</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="../../../../tags/%E7%88%B1%F0%9F%90%98TV/">çˆ±ğŸ˜TV</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="../../../../tags/%E8%B6%85%E9%95%BF%E4%BB%A3%E7%A0%81%E9%A2%84%E8%AD%A6/">è¶…é•¿ä»£ç é¢„è­¦</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="../../../../tags/%E9%9D%9E%E4%BF%9D%E5%A7%86%E7%BA%A7%E6%95%99%E7%A8%8B/">éä¿å§†çº§æ•™ç¨‹</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="../../../../tags/%E5%93%88%E5%9F%BA%E8%B1%A1%E6%AC%A0%E7%88%B1%E4%BA%86/">å“ˆåŸºè±¡æ¬ çˆ±äº†</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="../../../../tags/%E9%95%BF%E6%AF%9B%E8%B1%A1%E5%89%8D%E7%AB%AF/">é•¿æ¯›è±¡å‰ç«¯</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="../../../../tags/%E9%9D%9E%E5%9F%BA%E7%A1%80/">éåŸºç¡€</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="../../../../tags/%E9%95%BF%E6%AF%9B%E8%B1%A1%E8%AE%A1%E5%88%92%E5%8F%91%E5%98%9F/">é•¿æ¯›è±¡è®¡åˆ’å‘å˜Ÿ</a></div></div></div><div class="main-content"><p>è¿™ä¸ªäº‹æƒ…ï¼Œæˆ‘æŸ¥äº†ä¸‹æˆ‘çš„gitæäº¤çš„æ—¥æœŸï¼Œå·²ç»æ˜¯åŠä¸ªæœˆå‰è‡ªå­¦çš„äº†ï¼Œè‚¯å®šä¸èƒ½ä¿è¯åŒ…æ•™åŒ…ä¼šï¼Œä½†æ˜¯ç•™äº†äº›ä»£ç å’Œä¸€äº›åŸºç¡€çŸ¥è¯†ï¼Œå¯ä»¥ç»™æœªæ¥çš„æˆ‘å’Œæœ‰åŒæ ·éœ€æ±‚çš„è±¡å‹ä»¬æä¾›å‚è€ƒã€‚</p>
<span id="more"></span>
<p>è¿™ç¯‡å¿ƒå¾—æˆ‘ä¹Ÿä¸è¯´é¢å‘ä»€ä¹ˆåŸºç¡€çš„è¯»è€…äº†ï¼Œå³ä½¿è¯»è€…æ˜¯å¤§ç¥ï¼Œä¹Ÿå¯èƒ½ä¼šè·Ÿæˆ‘å¯¼å¸ˆå¬äº†æˆ‘çš„presentationä»¥åè¯´å‡ºä¸€æ ·çš„è¯â€œæˆ‘å¬ä¸æ‡‚ä½ åœ¨è¯´ä»€ä¹ˆâ€ã€‚åªèƒ½è¯´å°½é‡æä¾›å¸®åŠ©ã€‚</p>
<h1 id="éœ€æ±‚èƒŒæ™¯"><a href="#éœ€æ±‚èƒŒæ™¯" class="headerlink" title="éœ€æ±‚èƒŒæ™¯"></a>éœ€æ±‚èƒŒæ™¯</h1><p>æœ‰äº›ç½‘å‹å¾ˆå–œæ¬¢åˆ†äº«è‡ªå·±çš„ç”Ÿæ´»ã€‚æœ‰çš„å–œæ¬¢åœ¨ç½‘ä¸Šå½“å¶åƒï¼Œä»Šå¤©åƒäº†è‰è“å¡”ï¼Œ<strong>é©¬ä¸Š</strong>å‘ä¸€ä¸ªå¸¦ç¾å›¾çš„ç…§ç‰‡<del>ç„¶åå°±è¢«åäººè·Ÿè¸ª</del>ã€‚æœ‰çš„åœ¨åŸºå±‚é»˜é»˜æ— é—»æ•°å¹´ï¼Œè¯¶ï¼Œä»Šå¤©æœ‰å¹¸é¢†å¯¼å¸¦æˆ‘å»å‚åŠ äº†ä¸€ä¸ªæ¶‰å¯†çš„ä¼šè®®ï¼Œå‘ä¸ªæœ‹å‹åœˆç‚«è€€ä¸€ä¸‹ã€‚<del>è¿™ä¹Ÿå¾—ç›Šäºä¸Šå¤´å¤©å¤©è¯´æ•™ï¼šâ€œä½ æ²¡å¹²åäº‹è¦ä»€ä¹ˆéšç§å•Šâ€ç»“æœç°åœ¨å›½å®¶å®‰å…¨æ•™è‚²éš¾ä»¥ä¸‹æ‰‹ï¼Œç•™ä¸‹æ¥çš„éƒ½æ˜¯çˆ±ç‚«è€€çš„äººã€‚</del><br>æˆ‘åœ¨é•¿æ¯›è±¡ä¸Šæœ€ä¸»è¦çš„ç—›ç‚¹ï¼Œå°±ä¸æ˜¯å¤©å¤©å‘å®¶é‡Œçš„è¡—æ™¯å›¾å’Œå¿«é€’åŒ…è£…äº†ï¼Œè€Œæ˜¯åˆ†äº«YouTubeå’Œbç«™è§†é¢‘ã€‚è¿˜æœ‰å¾®ä¿¡é‡Œé¢çš„ä¸€äº›æ–‡ç« ã€‚è¿™ç§è¡Œä¸ºå…¶å®ä¹Ÿæœ‰å±é™©ï¼Œ<strong>å³ä½¿æŠŠé“¾æ¥è„±æ•ï¼Œ</strong> åªè¦æ ¹æ®ä½ å‘å¸ƒçš„æ—¥æœŸå’Œæ—¶é—´ï¼Œæ‰¾åˆ°ä½ å¤§æ¦‚åœ¨çœ‹è§†é¢‘æ—¶é‚£æ®µæ—¶é—´çš„é‚£äº›è¯„è®ºï¼Œå°±èƒ½çŸ¥é“ä½ çš„è§†é¢‘è´¦å·ã€‚éšåå¯ä»¥æ ¹æ®ä½ çš„æŠ•ç¨¿ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰å’Œç¤¾å·¥åº“é‡Œä½ è´¦å·ç»‘å®šçš„èº«ä»½è¯å·ï¼ŒæŠŠä½ ç»™å¼€ç›’ã€‚<br>ä»¥ä¸Šè¿™ç§æƒ…å†µï¼Œåªè¦æ™šä¸¤ä¸ªå°æ—¶å†åˆ†äº«å°±å¯ä»¥å¤šå°‘å‡è½»ä¸€ç‚¹é£é™©ã€‚<br>è¦åšåˆ°è¿™ä¸ªï¼Œæœ€æ²¡æŠ€æœ¯å«é‡çš„åŠæ³•ï¼Œä¹Ÿæ˜¯æˆ‘æœ€å¼€å§‹çš„åŠæ³•ï¼Œå°±æ˜¯æ™šä¸Šå†å›å»æŠŠè§†é¢‘ç¿»å‡ºæ¥ï¼Œè¿›è¡Œåˆ†äº«ï¼ŒåŒæ—¶è¦å¿ä½ä¸è·Ÿè¯„è®ºäº’åŠ¨ï¼ˆä¸ç®¡æ˜¯äººå®¶å¤¸ä½ ï¼Œä½ å»è®¨è®ºä¹Ÿå¥½ï¼Œè¿˜æ˜¯äººå®¶éª‚ä½ ï¼Œä½ å»è·Ÿäººè®²é“ç†ä¹Ÿå¥½ï¼‰ã€‚ä»£ç ä¸Šæ²¡æŠ€æœ¯å«é‡ï¼Œå…¶å®ç¤¾ä¼šå·¥ç¨‹çš„æŠ€æœ¯å«é‡ä¹Ÿä¸å°ã€‚æˆ‘æ²¡ä¸Šè¿‡åŸ¹è®­ç­ï¼Œä¸åœ¨ä¹è€å¸ˆè¯´â€œä½ å·²ç»åˆä¸­äº†ï¼Œå°±ä¸è¦ç”¨å°å­¦çš„çŸ¥è¯†æ¥è§£é¢˜äº†â€ã€‚æˆ‘çš„å¤„ä¸–ä¹‹é“æ˜¯ç”¨çš„æ‹›æ•°è¶Šå‚»è¶Šå¥½ï¼Œå‚»çš„æ»¡è¶³ä¸äº†éœ€æ±‚äº†å†ç”¨èªæ˜çš„ï¼Œç”¨è¿™æ ·çš„æ–¹å¼è®©æ‰€æœ‰æŠ€æœ¯å‘æŒ¥æœ€å¤§ä½œç”¨ã€‚</p>
<h2 id="FediPlan"><a href="#FediPlan" class="headerlink" title="FediPlan"></a>FediPlan</h2><p>æ¥ä¸‹æ¥æˆ‘å°±å»ç½‘ä¸Šæ‰¾æœ‰æ²¡æœ‰ç°æˆçš„åŠæ³•æ¨è¿Ÿå‘å˜Ÿã€‚æˆ‘æ˜¯ä¸ä¼šä¸ºäº†é”»ç‚¼è€Œå»æ‰¾è‹±æ–‡è¿›è¡Œé˜…è¯»çš„ï¼Œä¸ç„¶æˆ‘å†™å‡ºäº†è¿™ç¯‡æ–‡ç« ä»¥åï¼Œè¿˜æ˜¯ä¼šæœ‰äººè¯´æˆ‘æŠ„è¢­ã€‚æœâ€œé•¿æ¯›è±¡ è®¡åˆ’å‘å˜Ÿâ€ï¼ˆèœé¸Ÿä¼šæœâ€œæ±‚æ•‘ï¼ï¼ï¼é•¿æ¯›è±¡æ€ä¹ˆè®¡åˆ’å‘å˜Ÿâ€ï¼‰ï¼Œä¸€èˆ¬éƒ½æ˜¯æœå‡ºæ€ä¹ˆæ³¨å†Œè´¦å·ï¼Œç”šè‡³æ˜¯æ€ä¹ˆå…»å¤§è±¡ä¹‹ç±»çš„ã€‚ç„¶åç”¨è‹±æ–‡æœç­”æ¡ˆï¼Œå°±èƒ½æ‰¾åˆ°äº†ï¼ˆåˆ«é—®æˆ‘æ€ä¹ˆç»ƒçš„è‹±è¯­ï¼Œé¦–å…ˆè¦å­¦ä¼šç…§è‘«èŠ¦ç”»ç“¢ï¼Œä¸ä¼šrubyï¼Œä¸ä¼šjavascriptæ€ä¹ˆåŠï¼Ÿæ‰¾åˆ°ç±»ä¼¼çš„è¯­æ³•ï¼ŒæŠŠä½ æƒ³è¦çš„å˜é‡æˆ–è¯æ±‡å¡«è¿›å»ï¼ï¼‰ã€‚<br>æˆ‘æ‰¾åˆ°äº†è¿™ä¸€ç¯‡ <a target="_blank" rel="noopener" href="https://fedi.tips/scheduling-posts-on-mastodon/">https://fedi.tips/scheduling-posts-on-mastodon/</a> ã€‚ä½ å°±èƒ½äº†è§£åˆ°ï¼Œå…¶å®æ—©å°±åœ¨å¼€å‘äº†ã€‚å·²ç»æœ‰è½¯ä»¶å®ç°äº†è®¡åˆ’å‘å˜Ÿã€‚è€Œå®˜æ–¹ï¼Œç¡®å®æœ‰ä¸€ä¸ªAPIå«<code>scheduled_at</code>ã€‚æˆ‘æŸ¥äº†å®˜æ–¹æ–‡æ¡£ï¼Œç¡®å®å¦‚æ­¤ã€‚æ‰€ä»¥ï¼Œç°åœ¨æ‰€æœ‰è®¡åˆ’å‘å˜Ÿçš„è½¯ä»¶çš„åŸç†ï¼Œå°±æ˜¯å‘å˜Ÿè¯·æ±‚ä¸­å¸¦æœ‰<code>scheduled_at</code>ï¼Œå®ä¾‹çš„æœåŠ¡å™¨æ¥æ”¶åˆ°äº†ï¼Œå°±ä¼šå®‰æ’å®šæ—¶å‘å˜Ÿã€‚è€Œå®˜æ–¹webç«¯å’Œä¸»æµåº”ç”¨éƒ½æ²¡æœ‰è¿™ä¸ªåŠŸèƒ½ã€‚<br>åˆ°ç°åœ¨ä¸ºæ­¢ï¼Œä½ å¯ä»¥ç™»å½• <a target="_blank" rel="noopener" href="https://plan.fedilab.app/">https://plan.fedilab.app/</a> è¿™ä¸ªç½‘ç«™è¿›è¡Œå‘å˜Ÿã€‚éœ€è¦ä½ è·³è½¬åˆ°ä½ çš„å®ä¾‹ä»¥åï¼Œæ‰‹åŠ¨æŠŠtokenç²˜è´´è¿‡æ¥è¿›è¡Œå‘å˜Ÿã€‚è¯¥æœ‰çš„åŠŸèƒ½å®ƒéƒ½æœ‰ï¼Œä¸‘æ˜¯æœ‰ç‚¹ä¸‘ï¼Œä½†æ˜¯é—®é¢˜ä¸å¤§ã€‚ç¼ºç‚¹æˆ‘è®¤ä¸ºå°±æ˜¯å‘å˜Ÿæ–‡æ€»ä¼šè‡ªå¸¦User Agentï¼Œè€Œé•¿æ¯›è±¡å®ä¾‹çš„æœåŠ¡å™¨ä¼šæ ¹æ®ä½ çš„UAç»™ä½ çš„å˜Ÿæ–‡æ ‡æ³¨ä½ ç”¨äº†å“ªä¸ªå®¢æˆ·ç«¯ã€‚<br>å¦‚æœè¿™ä¸ªFediPlanèƒ½æ”¹UAï¼Œé‚£å°±æ— æ•Œäº†ï¼Œæˆ‘ä¹Ÿä¸éœ€è¦å†™è¿™ä¸ªå®˜æ–¹GitHubç®¡ç†å‘˜éƒ½ç§ä¸ä¸Šçš„å‰ç«¯ä»£ç äº†ã€‚</p>
<h1 id="å˜Ÿæ–‡å‘é€çš„åŸºæœ¬åŸç†"><a href="#å˜Ÿæ–‡å‘é€çš„åŸºæœ¬åŸç†" class="headerlink" title="å˜Ÿæ–‡å‘é€çš„åŸºæœ¬åŸç†"></a>å˜Ÿæ–‡å‘é€çš„åŸºæœ¬åŸç†</h1><p>æŠ›å¼€å®¢æˆ·ç«¯ä¸è°ˆï¼Œåªç®€å•è®²è®²ç½‘é¡µç«¯çš„åŸç†ï¼Œå› ä¸ºå³ä½¿å¼€å‘å®Œäº†ï¼Œå®˜æ–¹å’Œæˆ‘çš„IceCubeè¿˜æ˜¯ä¸èƒ½è®¡åˆ’å‘å˜Ÿã€‚<br>é¦–å…ˆæµè§ˆå™¨è¾“å…¥äº†å®ä¾‹çš„ç½‘å€ï¼Œç™»å½•äº†è´¦å·ã€‚è¿™æ—¶ä¼šè·³å…¥è¿™ä¸ªè·¯å¾„ <a target="_blank" rel="noopener" href="https://cmx.dzm.pp.ua/deck/getting-started">https://cmx.dzm.pp.ua/deck/getting-started</a> ï¼ˆä»…é™ç™»å½•æˆåŠŸæ—¶ï¼‰ã€‚<br><img src="getting-started.png"><br>æ­¤æ—¶ï¼Œæµè§ˆå™¨ä¼šæ‰§è¡Œjavascriptä»£ç ã€‚æœ‰åŸºç¡€çš„è¯»è€…éƒ½çŸ¥é“ï¼Œæµè§ˆå™¨æ˜¯javascriptçš„è§£é‡Šå™¨ï¼Œåªè¦å®‰å…¨ç­–ç•¥å…è®¸ï¼Œæµè§ˆå™¨å¯ä»¥æ ¹æ®javascriptä»£ç åšä»»ä½•äº‹ã€‚å‰ç«¯ä»£ç å°±åœ¨æµè§ˆå™¨è·‘èµ·æ¥äº†ã€‚<br><img src="principle.jpeg"><br>é•¿æ¯›è±¡çš„å‰ç«¯æ˜¯ç”¨reactå†™çš„ã€‚reactçš„åŸºç¡€å°±ä¸èµ˜è¿°äº†ï¼Œä¸æ‡‚çš„æ‡’å¾—çœ‹ï¼Œæ‡‚çš„éƒ½è¿œè¿œæ¯”æˆ‘è¿˜æ‡‚ã€‚<br>åªè¦æ³¨æ„ï¼Œæ¯ä¸€ä¸ªç»„ä»¶éƒ½è¦é¦–å­—æ¯å¤§å†™ï¼Œç„¶ååœ¨renderå‡½æ•°å†…å½“ä½œä¸€ä¸ªHTMLå…ƒç´ ä½¿ç”¨ã€‚è€Œè¿™ä¸ªç»„ä»¶ï¼Œå®ƒçš„å€¼ä¸åƒHTMLçš„è¡¨å•ä¸€æ ·å¯ä»¥è®©ç”¨æˆ·éšæ„æ”¹ã€‚æœ€åŸºç¡€çš„ï¼Œæ˜¯è¦ç¼–å†™å‡½æ•°<code>onChange</code>ï¼Œç„¶åé€šè¿‡<code>onChange</code>è¿™ä¸ªæ–¹æ³•ä¿®æ”¹è¿™ä¸ªå…ƒç´ çš„å€¼ã€‚æ¯æ¬¡<code>onChange</code>ä¿®æ”¹äº†å…ƒç´ çš„å€¼ï¼Œ<code>render</code>å‡½æ•°éƒ½ä¼šé‡æ–°è¿è¡Œä¸€æ¬¡ã€‚</p>
<h2 id="Reduxçš„é€»è¾‘æµ…æ"><a href="#Reduxçš„é€»è¾‘æµ…æ" class="headerlink" title="Reduxçš„é€»è¾‘æµ…æ"></a>Reduxçš„é€»è¾‘æµ…æ</h2><p>é•¿æ¯›è±¡å‰ç«¯å˜Ÿæ–‡å‘é€ï¼Œå¹¶ä¸åƒå‘é€è¡¨å•ä¸€æ ·ç®€å•ã€‚ä½ çš„å˜Ÿæ–‡ï¼Œå®ƒçš„å†…å®¹ã€åª’ä½“ã€æŠ•ç¥¨ã€æ˜¯å¦æ•æ„Ÿã€å†…å®¹è­¦å‘Šä¿¡æ¯ç­‰ä¸€å¤§ä¸²å±æ€§ï¼Œæœ€ç»ˆéƒ½æ˜¯è¦å‘ç»™æœåŠ¡å™¨çš„ã€‚è€Œè¿™äº›å±æ€§ï¼Œéƒ½è¦åæ˜ åœ¨ä½ çš„ç¼–è¾‘ç•Œé¢é‡Œã€‚æ‰€ä»¥è¿™äº›<code>state</code>éƒ½å‚¨å­˜åœ¨storeé‡Œï¼Œæ¯æ¬¡æœ‰ç»„ä»¶è¢«æ“ä½œï¼Œ<code>onChange</code>å°±è¦è§¦å‘<code>dispatch()</code>ï¼Œè€Œdispatchå‡½æ•°ä¼šæ ¹æ®æ‹¬å·é‡Œçš„å‚æ•°æ‰¾åˆ°<code>action</code>å¯¹è±¡ã€‚actionæ–‡ä»¶é‡Œå®šä¹‰äº†ä¸€å¤§å †å¤§å†™å­—æ¯çš„å˜é‡ï¼Œå…¶å®æ˜¯ä¸ºäº†é˜²æ­¢è°ƒç”¨<code>action.type</code>æ—¶é‡åˆ°æ‹¼å†™é”™è¯¯æ— æ³•æ­£ç¡®æ‰§è¡ŒæœŸæœ›çš„åŠ¨ä½œï¼Œä¸”ä¸æŠ¥é”™çš„è¿™ä¸ªæƒ…å†µå‘ç”Ÿã€‚éšåactionå‡½æ•°å†å»æ‰¾reducerã€‚å› ä¸ºæ¯æ¬¡å‘ç”Ÿæ›´æ”¹ï¼Œstoreé‡Œé¢çš„æ•°ç»„å¯èƒ½éƒ½è¦ä»å¤´é‡æ–°å†™ä¸€éï¼Œæ‰€ä»¥ä¸ºäº†ç®€åŒ–ä»£ç ï¼Œæ‰æœ‰reducerè¿™ä¹ˆä¸ªæ¨¡å—ã€‚reduceræ¨¡å—ä¼šæšä¸¾æ‰€æœ‰<code>action.type</code>ï¼Œç”¨å¤§é‡<code>elseif</code>æˆ–<code>switch</code> <code>case</code>ç½—åˆ—æ‰€æœ‰<code>action.type</code>ã€‚<br><img src="redux.gif"><br>ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ æ¯ç‚¹ä¸€æ¬¡é¼ æ ‡ï¼Œæ¯æŒ‰ä¸€æ¬¡é”®ç›˜ï¼Œä¸Šå›¾çš„æµç¨‹å°±è¦è·‘ä¸€åœˆã€‚<br>ç›´åˆ°æœ€åï¼Œä½ ç¼–è¾‘å®Œæ¯•ï¼Œç‚¹ä¸‹å‘é€ï¼Œå®ƒå°±ä¼šæ‰§è¡Œ<code>submit</code>åŠ¨ä½œã€‚è¿™ä¸ªåŠ¨ä½œç›´æ¥è°ƒç”¨äº†<code>api()</code>æ¨¡å—ï¼ŒæŠŠä½ çš„tokenï¼ŒåŠ ä¸Š<code>store</code>é‡Œçš„æ‰€æœ‰<code>state</code>ï¼Œå‘åˆ°æœåŠ¡å™¨åœ°å€çš„æŒ‡å®šè·¯å¾„ä¸‹ï¼Œæœ€åç»è¿‡nginxå’Œpumaçš„è§£æï¼Œè®©åç«¯å¤„ç†è¿™äº›æ•°æ®ï¼Œå°†å®ƒä»¬æ”¾å…¥æ•°æ®åº“ï¼Œå¹¶å‘é€ç»™ä½ çš„æ‰€æœ‰ç²‰ä¸ã€‚</p>
<h1 id="ä»£ç é­”æ”¹"><a href="#ä»£ç é­”æ”¹" class="headerlink" title="ä»£ç é­”æ”¹"></a>ä»£ç é­”æ”¹</h1><p>ä»¥ä¸‹æ˜¯åœ¨å‰ç«¯æ·»åŠ è®¡åˆ’å‘å˜ŸåŠŸèƒ½çš„ä»£ç ï¼Œè¯·è¯»è€…è°¨æ…ä¿®æ”¹ï¼</p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">diff --git a/app/javascript/mastodon/actions/compose.js b/app/javascript/mastodon/actions/compose.js</span></span><br><span class="line"><span class="comment">index 7525be454..88cb684a8 100644</span></span><br><span class="line"><span class="comment">--- a/app/javascript/mastodon/actions/compose.js</span></span><br><span class="line"><span class="comment">+++ b/app/javascript/mastodon/actions/compose.js</span></span><br><span class="line"><span class="meta">@@ -81,6 +81,9 @@</span> export const COMPOSE_CHANGE_MEDIA_ORDER       = &#x27;COMPOSE_CHANGE_MEDIA_ORDER&#x27;;</span><br><span class="line"> export const COMPOSE_SET_STATUS = &#x27;COMPOSE_SET_STATUS&#x27;;</span><br><span class="line"> export const COMPOSE_FOCUS = &#x27;COMPOSE_FOCUS&#x27;;</span><br><span class="line"></span><br><span class="line"><span class="addition">+export const COMPOSE_CHANGE_IS_SCHEDULED = &#x27;COMPOSE_CHANGE_IS_SCHEDULED&#x27;;</span></span><br><span class="line"><span class="addition">+export const COMPOSE_CHANGE_SCHEDULE_TIME = &#x27;COMPOSE_CHANGE_SCHEDULE_TIME&#x27;;</span></span><br><span class="line"><span class="addition">+</span></span><br><span class="line"> const messages = defineMessages(&#123;</span><br><span class="line">   uploadErrorLimit: &#123; id: &#x27;upload_error.limit&#x27;, defaultMessage: &#x27;File upload limit exceeded.&#x27; &#125;,</span><br><span class="line">   open: &#123; id: &#x27;compose.published.open&#x27;, defaultMessage: &#x27;Open&#x27; &#125;,</span><br><span class="line"><span class="meta">@@ -187,6 +190,7 @@</span> export function submitCompose() &#123;</span><br><span class="line">     const status   = getState().getIn([&#x27;compose&#x27;, &#x27;text&#x27;], &#x27;&#x27;);</span><br><span class="line">     const media    = getState().getIn([&#x27;compose&#x27;, &#x27;media_attachments&#x27;]);</span><br><span class="line">     const statusId = getState().getIn([&#x27;compose&#x27;, &#x27;id&#x27;], null);</span><br><span class="line"><span class="addition">+    const is_scheduled = getState().getIn([&#x27;compose&#x27;, &#x27;is_scheduled&#x27;]);</span></span><br><span class="line"></span><br><span class="line">     if ((!status || !status.length) &amp;&amp; media.size <span class="comment">=== 0) &#123;</span></span><br><span class="line">       return;</span><br><span class="line"><span class="meta">@@ -227,6 +231,7 @@</span> export function submitCompose() &#123;</span><br><span class="line">         visibility: getState().getIn([&#x27;compose&#x27;, &#x27;privacy&#x27;]),</span><br><span class="line">         poll: getState().getIn([&#x27;compose&#x27;, &#x27;poll&#x27;], null),</span><br><span class="line">         language: getState().getIn([&#x27;compose&#x27;, &#x27;language&#x27;]),</span><br><span class="line"><span class="addition">+        scheduled_at: is_scheduled ? getState().getIn([&#x27;compose&#x27;, &#x27;scheduled_at&#x27;]) : null,</span></span><br><span class="line">       &#125;,</span><br><span class="line">       headers: &#123;</span><br><span class="line">         &#x27;Idempotency-Key&#x27;: getState().getIn([&#x27;compose&#x27;, &#x27;idempotencyKey&#x27;]),</span><br><span class="line"><span class="meta">@@ -236,9 +241,22 @@</span> export function submitCompose() &#123;</span><br><span class="line">         browserHistory.goBack();</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line"><span class="addition">+</span></span><br><span class="line"><span class="addition">+      if (&#x27;scheduled_at&#x27; in response.data) &#123;</span></span><br><span class="line"><span class="addition">+        dispatch(showAlert(&#123;</span></span><br><span class="line"><span class="addition">+          message: messages.saved,</span></span><br><span class="line"><span class="addition">+          dismissAfter: 10000,</span></span><br><span class="line"><span class="addition">+        &#125;));</span></span><br><span class="line"><span class="addition">+        dispatch(submitComposeSuccess(&#123; ...response.data.params&#125;));</span></span><br><span class="line"><span class="addition">+        return;</span></span><br><span class="line"><span class="addition">+      &#125;</span></span><br><span class="line"><span class="addition">+</span></span><br><span class="line">       dispatch(insertIntoTagHistory(response.data.tags, status));</span><br><span class="line">       dispatch(submitComposeSuccess(&#123; ...response.data &#125;));</span><br><span class="line"></span><br><span class="line"><span class="addition">+</span></span><br><span class="line"><span class="addition">+</span></span><br><span class="line"><span class="addition">+</span></span><br><span class="line">       // To make the app more responsive, immediately push the status</span><br><span class="line">       // into the columns</span><br><span class="line">       const insertIfOnline = timelineId =&gt; &#123;</span><br><span class="line"><span class="meta">@@ -829,3 +847,16 @@</span> export const changeMediaOrder = (a, b) =&gt; (&#123;</span><br><span class="line">   a,</span><br><span class="line">   b,</span><br><span class="line"> &#125;);</span><br><span class="line"><span class="addition">+</span></span><br><span class="line"><span class="addition">+export function changeIsScheduled() &#123;</span></span><br><span class="line"><span class="addition">+  return &#123;</span></span><br><span class="line"><span class="addition">+    type: COMPOSE_CHANGE_IS_SCHEDULED,</span></span><br><span class="line"><span class="addition">+  &#125;;</span></span><br><span class="line"><span class="addition">+&#125;</span></span><br><span class="line"><span class="addition">+</span></span><br><span class="line"><span class="addition">+export function changeScheduleTime(value) &#123;</span></span><br><span class="line"><span class="addition">+  return &#123;</span></span><br><span class="line"><span class="addition">+    type: COMPOSE_CHANGE_SCHEDULE_TIME,</span></span><br><span class="line"><span class="addition">+    value,</span></span><br><span class="line"><span class="addition">+  &#125;;</span></span><br><span class="line"><span class="addition">+&#125;</span></span><br><span class="line">\ No newline at end of file</span><br><span class="line"><span class="comment">diff --git a/app/javascript/mastodon/features/compose/components/compose_form.jsx b/app/javascript/mastodon/features/compose/components/compose_form.jsx</span></span><br><span class="line"><span class="comment">index b5e8dabb7..e1e0038eb 100644</span></span><br><span class="line"><span class="comment">--- a/app/javascript/mastodon/features/compose/components/compose_form.jsx</span></span><br><span class="line"><span class="comment">+++ b/app/javascript/mastodon/features/compose/components/compose_form.jsx</span></span><br><span class="line"><span class="meta">@@ -29,6 +29,9 @@</span> import &#123; PollForm &#125; from &quot;./poll_form&quot;;</span><br><span class="line"> import &#123; ReplyIndicator &#125; from &#x27;./reply_indicator&#x27;;</span><br><span class="line"> import &#123; UploadForm &#125; from &#x27;./upload_form&#x27;;</span><br><span class="line"></span><br><span class="line"><span class="addition">+import ScheduleButtonContainer from &#x27;../containers/schedule_button_container&#x27;;</span></span><br><span class="line"><span class="addition">+import &#123; ScheduleForm &#125; from &#x27;./schedule_form&#x27;;</span></span><br><span class="line"><span class="addition">+</span></span><br><span class="line"> const allowedAroundShortCode = &#x27;&gt;&lt;\u0085\u0020\u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\u0009\u000a\u000b\u000c\u000d&#x27;;</span><br><span class="line"></span><br><span class="line"> const messages = defineMessages(&#123;</span><br><span class="line"><span class="meta">@@ -69,6 +72,11 @@</span> class ComposeForm extends ImmutablePureComponent &#123;</span><br><span class="line">     singleColumn: PropTypes.bool,</span><br><span class="line">     lang: PropTypes.string,</span><br><span class="line">     maxChars: PropTypes.number,</span><br><span class="line"><span class="addition">+</span></span><br><span class="line"><span class="addition">+    schedule_time: PropTypes.string,</span></span><br><span class="line"><span class="addition">+    schedule_timezone: PropTypes.string,</span></span><br><span class="line"><span class="addition">+    is_scheduled: PropTypes.bool.isRequired,</span></span><br><span class="line"><span class="addition">+    scheduled_at: PropTypes.string,</span></span><br><span class="line">   &#125;;</span><br><span class="line"></span><br><span class="line">   static defaultProps = &#123;</span><br><span class="line"><span class="meta">@@ -295,6 +303,7 @@</span> class ComposeForm extends ImmutablePureComponent &#123;</span><br><span class="line">                 &lt;PollButtonContainer /&gt;</span><br><span class="line">                 &lt;SpoilerButtonContainer /&gt;</span><br><span class="line">                 &lt;EmojiPickerDropdown onPickEmoji=&#123;this.handleEmojiPick&#125; /&gt;</span><br><span class="line"><span class="addition">+                &lt;ScheduleButtonContainer /&gt;</span></span><br><span class="line">                 &lt;CharacterCounter max=&#123;maxChars&#125; text=&#123;this.getFulltextForCharacterCounting()&#125; /&gt;</span><br><span class="line">               &lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="meta">@@ -306,6 +315,7 @@</span> class ComposeForm extends ImmutablePureComponent &#123;</span><br><span class="line">                 /&gt;</span><br><span class="line">               &lt;/div&gt;</span><br><span class="line">             &lt;/div&gt;</span><br><span class="line"><span class="addition">+            &lt;ScheduleForm /&gt;</span></span><br><span class="line">           &lt;/div&gt;</span><br><span class="line">         &lt;/div&gt;</span><br><span class="line">       &lt;/form&gt;</span><br><span class="line"><span class="comment">diff --git a/app/javascript/mastodon/features/compose/components/schedule_form.jsx b/app/javascript/mastodon/features/compose/components/schedule_form.jsx</span></span><br><span class="line">new file mode 100644</span><br><span class="line"><span class="comment">index 000000000..435d9427d</span></span><br><span class="line"><span class="comment">--- /dev/null</span></span><br><span class="line"><span class="comment">+++ b/app/javascript/mastodon/features/compose/components/schedule_form.jsx</span></span><br><span class="line"><span class="meta">@@ -0,0 +1,41 @@</span></span><br><span class="line"><span class="addition">+import PropTypes from &#x27;prop-types&#x27;;</span></span><br><span class="line"><span class="addition">+import &#123; useCallback &#125; from &#x27;react&#x27;;</span></span><br><span class="line"><span class="addition">+</span></span><br><span class="line"><span class="addition">+import &#123; defineMessages, useIntl &#125; from &#x27;react-intl&#x27;;</span></span><br><span class="line"><span class="addition">+</span></span><br><span class="line"><span class="addition">+import classNames from &#x27;classnames&#x27;;</span></span><br><span class="line"><span class="addition">+</span></span><br><span class="line"><span class="addition">+import &#123; useDispatch, useSelector&#125; from &#x27;react-redux&#x27;;</span></span><br><span class="line"><span class="addition">+</span></span><br><span class="line"><span class="addition">+import &#123; changeScheduleTime &#125; from &#x27;mastodon/actions/compose&#x27;;</span></span><br><span class="line"><span class="addition">+</span></span><br><span class="line"><span class="addition">+const messages = defineMessages(&#123;</span></span><br><span class="line"><span class="addition">+    schedule_time: &#123; id: &#x27;compose_form.schedule_time&#x27;, defaultMessage: &#x27;è®¡åˆ’å‘æ–‡æ—¶é—´ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰&#x27; &#125;,</span></span><br><span class="line"><span class="addition">+&#125;);</span></span><br><span class="line"><span class="addition">+</span></span><br><span class="line"><span class="addition">+export const ScheduleForm = () =&gt; &#123;</span></span><br><span class="line"><span class="addition">+    const is_scheduled = useSelector(state =&gt; state.getIn([&#x27;compose&#x27;, &#x27;is_scheduled&#x27;]));</span></span><br><span class="line"><span class="addition">+    const schedule_time = useSelector(state =&gt; state.getIn([&#x27;compose&#x27;, &#x27;schedule_time&#x27;]));</span></span><br><span class="line"><span class="addition">+    const dispatch = useDispatch();</span></span><br><span class="line"><span class="addition">+    const intl = useIntl();</span></span><br><span class="line"><span class="addition">+</span></span><br><span class="line"><span class="addition">+    const handleChange = useCallback((&#123; target: &#123; value &#125; &#125;) =&gt; &#123;</span></span><br><span class="line"><span class="addition">+        dispatch(changeScheduleTime(value));</span></span><br><span class="line"><span class="addition">+    &#125;, [dispatch]);</span></span><br><span class="line"><span class="addition">+</span></span><br><span class="line"><span class="addition">+    if (!is_scheduled) &#123;</span></span><br><span class="line"><span class="addition">+        return null;</span></span><br><span class="line"><span class="addition">+    &#125;</span></span><br><span class="line"><span class="addition">+</span></span><br><span class="line"><span class="addition">+    return (</span></span><br><span class="line"><span class="addition">+        &lt;div&gt;</span></span><br><span class="line"><span class="addition">+            &lt;label&gt;&#123;intl.formatMessage(messages.schedule_time)&#125;&lt;/label&gt;</span></span><br><span class="line"><span class="addition">+            &lt;input</span></span><br><span class="line"><span class="addition">+                className=&#x27;search__input&#x27;</span></span><br><span class="line"><span class="addition">+                type=&#x27;datetime-local&#x27;</span></span><br><span class="line"><span class="addition">+                value=&#123;schedule_time&#125;</span></span><br><span class="line"><span class="addition">+                onChange=&#123;handleChange&#125;</span></span><br><span class="line"><span class="addition">+            /&gt;</span></span><br><span class="line"><span class="addition">+        &lt;/div&gt;</span></span><br><span class="line"><span class="addition">+    );</span></span><br><span class="line"><span class="addition">+&#125;</span></span><br><span class="line">\ No newline at end of file</span><br><span class="line"><span class="comment">diff --git a/app/javascript/mastodon/features/compose/containers/compose_form_container.js b/app/javascript/mastodon/features/compose/containers/compose_form_container.js</span></span><br><span class="line"><span class="comment">index 76ac65bf3..e97d33695 100644</span></span><br><span class="line"><span class="comment">--- a/app/javascript/mastodon/features/compose/containers/compose_form_container.js</span></span><br><span class="line"><span class="comment">+++ b/app/javascript/mastodon/features/compose/containers/compose_form_container.js</span></span><br><span class="line"><span class="meta">@@ -29,6 +29,10 @@</span> const mapStateToProps = state =&gt; (&#123;</span><br><span class="line">   isInReply: state.getIn([&#x27;compose&#x27;, &#x27;in_reply_to&#x27;]) !== null,</span><br><span class="line">   lang: state.getIn([&#x27;compose&#x27;, &#x27;language&#x27;]),</span><br><span class="line">   maxChars: state.getIn([&#x27;server&#x27;, &#x27;server&#x27;, &#x27;configuration&#x27;, &#x27;statuses&#x27;, &#x27;max_characters&#x27;], 5000),</span><br><span class="line"><span class="addition">+  is_scheduled: state.getIn([&#x27;compose&#x27;, &#x27;is_scheduled&#x27;]),</span></span><br><span class="line"><span class="addition">+  schedule_time: state.getIn([&#x27;compose&#x27;, &#x27;schedule_time&#x27;]),</span></span><br><span class="line"><span class="addition">+  schedule_timezone: state.getIn([&#x27;compose&#x27;, &#x27;schedule_timezone&#x27;]),</span></span><br><span class="line"><span class="addition">+  scheduled_at: state.getIn([&#x27;compose&#x27;, &#x27;scheduled_at&#x27;]),</span></span><br><span class="line"> &#125;);</span><br><span class="line"></span><br><span class="line"> const mapDispatchToProps = (dispatch) =&gt; (&#123;</span><br><span class="line"><span class="comment">diff --git a/app/javascript/mastodon/features/compose/containers/schedule_button_container.js b/app/javascript/mastodon/features/compose/containers/schedule_button_container.js</span></span><br><span class="line">new file mode 100644</span><br><span class="line"><span class="comment">index 000000000..0ece8ffb8</span></span><br><span class="line"><span class="comment">--- /dev/null</span></span><br><span class="line"><span class="comment">+++ b/app/javascript/mastodon/features/compose/containers/schedule_button_container.js</span></span><br><span class="line"><span class="meta">@@ -0,0 +1,30 @@</span></span><br><span class="line"><span class="addition">+import &#123; injectIntl, defineMessages &#125; from &quot;react-intl&quot;;</span></span><br><span class="line"><span class="addition">+</span></span><br><span class="line"><span class="addition">+import &#123; connect &#125; from &#x27;react-redux&#x27;;</span></span><br><span class="line"><span class="addition">+</span></span><br><span class="line"><span class="addition">+import ScheduleIcon from &#x27;@/material-icons/400-20px/schedule.svg?react&#x27;;</span></span><br><span class="line"><span class="addition">+import &#123; IconButton &#125; from &quot;@/mastodon/components/icon_button&quot;;</span></span><br><span class="line"><span class="addition">+</span></span><br><span class="line"><span class="addition">+import &#123; changeIsScheduled &#125; from &#x27;../../../actions/compose&#x27;;</span></span><br><span class="line"><span class="addition">+</span></span><br><span class="line"><span class="addition">+const messages = defineMessages(&#123;</span></span><br><span class="line"><span class="addition">+    marked: &#123; id: &#x27;compose_form.schedule.marked&#x27;, defaultMessage: &#x27;æœ¬æ–‡å°†åœ¨ä»¥ä¸‹æ—¶é—´å‘å¸ƒ&#x27;&#125;,</span></span><br><span class="line"><span class="addition">+    unmarked: &#123; id: &#x27;compose_form.schedule.unmarked&#x27;, defaultMessage: &#x27;æ–‡æœ¬å°†ç«‹å³å‘å¸ƒ&#x27;&#125;,</span></span><br><span class="line"><span class="addition">+&#125;)</span></span><br><span class="line"><span class="addition">+</span></span><br><span class="line"><span class="addition">+const mapStateToProps = (state, &#123; intl &#125;) =&gt; (&#123;</span></span><br><span class="line"><span class="addition">+    iconComponent: ScheduleIcon,</span></span><br><span class="line"><span class="addition">+    title: intl.formatMessage(state.getIn([&#x27;compose&#x27;, &#x27;is_scheduled&#x27;]) ? messages.marked : messages.unmarked),</span></span><br><span class="line"><span class="addition">+    active: state.getIn([&#x27;compose&#x27;, &#x27;is_scheduled&#x27;]),</span></span><br><span class="line"><span class="addition">+    ariaControls: &#x27;schedule-publish&#x27;,</span></span><br><span class="line"><span class="addition">+    size: 18,</span></span><br><span class="line"><span class="addition">+    inverted: true,</span></span><br><span class="line"><span class="addition">+&#125;);</span></span><br><span class="line"><span class="addition">+</span></span><br><span class="line"><span class="addition">+const mapDispatchToProps = dispatch =&gt; (&#123;</span></span><br><span class="line"><span class="addition">+    onClick () &#123;</span></span><br><span class="line"><span class="addition">+        dispatch(changeIsScheduled());</span></span><br><span class="line"><span class="addition">+    &#125;,</span></span><br><span class="line"><span class="addition">+&#125;);</span></span><br><span class="line"><span class="addition">+</span></span><br><span class="line"><span class="addition">+export default injectIntl(connect(mapStateToProps, mapDispatchToProps)(IconButton));</span></span><br><span class="line">\ No newline at end of file</span><br><span class="line"><span class="comment">diff --git a/app/javascript/mastodon/reducers/compose.js b/app/javascript/mastodon/reducers/compose.js</span></span><br><span class="line"><span class="comment">index bfa2ec6a0..6b9a2c3ec 100644</span></span><br><span class="line"><span class="comment">--- a/app/javascript/mastodon/reducers/compose.js</span></span><br><span class="line"><span class="comment">+++ b/app/javascript/mastodon/reducers/compose.js</span></span><br><span class="line"><span class="meta">@@ -50,6 +50,8 @@</span> import &#123;</span><br><span class="line">   COMPOSE_CHANGE_MEDIA_ORDER,</span><br><span class="line">   COMPOSE_SET_STATUS,</span><br><span class="line">   COMPOSE_FOCUS,</span><br><span class="line"><span class="addition">+  COMPOSE_CHANGE_IS_SCHEDULED,</span></span><br><span class="line"><span class="addition">+  COMPOSE_CHANGE_SCHEDULE_TIME</span></span><br><span class="line"> &#125; from &#x27;../actions/compose&#x27;;</span><br><span class="line"> import &#123; REDRAFT &#125; from &#x27;../actions/statuses&#x27;;</span><br><span class="line"> import &#123; STORE_HYDRATE &#125; from &#x27;../actions/store&#x27;;</span><br><span class="line"><span class="meta">@@ -94,6 +96,11 @@</span> const initialState = ImmutableMap(&#123;</span><br><span class="line">     focusY: 0,</span><br><span class="line">     dirty: false,</span><br><span class="line">   &#125;),</span><br><span class="line"><span class="addition">+</span></span><br><span class="line"><span class="addition">+  schedule_time: null,</span></span><br><span class="line"><span class="addition">+  schedule_timezone: &#x27;+08:00&#x27;,</span></span><br><span class="line"><span class="addition">+  is_scheduled: false,</span></span><br><span class="line"><span class="addition">+  scheduled_at: null,</span></span><br><span class="line"> &#125;);</span><br><span class="line"></span><br><span class="line"> const initialPoll = ImmutableMap(&#123;</span><br><span class="line"><span class="meta">@@ -127,6 +134,9 @@</span> function clearAll(state) &#123;</span><br><span class="line">     map.update(&#x27;media_attachments&#x27;, list =&gt; list.clear());</span><br><span class="line">     map.set(&#x27;poll&#x27;, null);</span><br><span class="line">     map.set(&#x27;idempotencyKey&#x27;, uuid());</span><br><span class="line"><span class="addition">+    map.set(&#x27;schedule_time&#x27;, null);</span></span><br><span class="line"><span class="addition">+    map.set(&#x27;is_scheduled&#x27;, false);</span></span><br><span class="line"><span class="addition">+    map.set(&#x27;scheduled_at&#x27;, null);</span></span><br><span class="line">   &#125;);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@@ -560,6 +570,18 @@</span> export default function compose(state = initialState, action) &#123;</span><br><span class="line"></span><br><span class="line">       return list.splice(indexA, 1).splice(indexB, 0, moveItem);</span><br><span class="line">     &#125;);</span><br><span class="line"><span class="addition">+  case COMPOSE_CHANGE_IS_SCHEDULED:</span></span><br><span class="line"><span class="addition">+    return state.withMutations(map =&gt; &#123;</span></span><br><span class="line"><span class="addition">+      map.set(&#x27;is_scheduled&#x27;, !state.get(&#x27;is_scheduled&#x27;));</span></span><br><span class="line"><span class="addition">+      map.set(&#x27;scheduled_at&#x27;, state.get(&#x27;schedule_time&#x27;) + &#x27;:00.0&#x27; + state.get(&#x27;schedule_timezone&#x27;));</span></span><br><span class="line"><span class="addition">+      map.set(&#x27;idempotencyKey&#x27;, uuid());</span></span><br><span class="line"><span class="addition">+    &#125;);</span></span><br><span class="line"><span class="addition">+  case COMPOSE_CHANGE_SCHEDULE_TIME:</span></span><br><span class="line"><span class="addition">+    return state.withMutations(map =&gt; &#123;</span></span><br><span class="line"><span class="addition">+      map.set(&#x27;schedule_time&#x27;, action.value);</span></span><br><span class="line"><span class="addition">+      map.set(&#x27;scheduled_at&#x27;, action.value + &#x27;:00.0&#x27; + state.get(&#x27;schedule_timezone&#x27;));</span></span><br><span class="line"><span class="addition">+      map.set(&#x27;idempotencyKey&#x27;, uuid());</span></span><br><span class="line"><span class="addition">+    &#125;);</span></span><br><span class="line">   default:</span><br><span class="line">     return state;</span><br><span class="line">   &#125;</span><br><span class="line"><span class="comment">diff --git a/app/javascript/material-icons/400-20px/schedule.svg b/app/javascript/material-icons/400-20px/schedule.svg</span></span><br><span class="line">new file mode 100644</span><br><span class="line"><span class="comment">index 000000000..350607c71</span></span><br><span class="line"><span class="comment">--- /dev/null</span></span><br><span class="line"><span class="comment">+++ b/app/javascript/material-icons/400-20px/schedule.svg</span></span><br><span class="line"><span class="meta">@@ -0,0 +1,6 @@</span></span><br><span class="line"><span class="addition">+&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="addition">+&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; width=&quot;20px&quot; height=&quot;20px&quot; viewBox=&quot;0 0 20 20&quot; version=&quot;1.1&quot;&gt;</span></span><br><span class="line"><span class="addition">+&lt;g id=&quot;surface1&quot;&gt;</span></span><br><span class="line"><span class="addition">+&lt;path style=&quot; stroke:none;fill-rule:nonzero;fill-opacity:1;&quot; d=&quot;M 13.476562 8.167969 C 15.507812 8.167969 17.382812 9.214844 18.398438 10.917969 C 19.417969 12.609375 19.417969 14.722656 18.398438 16.417969 C 17.382812 18.117188 15.507812 19.167969 13.476562 19.167969 C 10.332031 19.167969 7.785156 16.699219 7.785156 13.667969 C 7.785156 10.632812 10.332031 8.167969 13.476562 8.167969 Z M 7.160156 1.25 L 7.160156 2.058594 L 12.214844 2.058594 L 12.214844 1.25 C 12.214844 1.023438 12.398438 0.832031 12.632812 0.832031 L 13.066406 0.832031 C 13.292969 0.832031 13.484375 1.015625 13.484375 1.25 L 13.484375 2.058594 L 18.125 2.058594 C 18.359375 2.058594 18.542969 2.25 18.542969 2.476562 L 18.542969 8.367188 C 18.542969 8.589844 18.359375 8.785156 18.125 8.785156 L 17.691406 8.785156 C 17.457031 8.785156 17.273438 8.601562 17.273438 8.367188 L 17.273438 6.949219 L 2.101562 6.949219 L 2.101562 17.332031 L 7.375 17.332031 C 7.609375 17.332031 7.792969 17.515625 7.792969 17.75 L 7.792969 18.140625 C 7.792969 18.375 7.609375 18.558594 7.375 18.558594 L 0.832031 18.558594 L 0.832031 2.476562 C 0.832031 2.242188 1.015625 2.058594 1.25 2.058594 L 5.890625 2.058594 L 5.890625 1.25 C 5.890625 1.023438 6.074219 0.832031 6.308594 0.832031 L 6.742188 0.832031 C 6.964844 0.832031 7.160156 1.015625 7.160156 1.25 Z M 13.476562 9.390625 C 11.890625 9.390625 10.433594 10.207031 9.640625 11.535156 C 8.851562 12.859375 8.851562 14.492188 9.640625 15.808594 C 10.433594 17.125 11.890625 17.949219 13.476562 17.949219 C 15.917969 17.949219 17.898438 16.035156 17.898438 13.675781 C 17.898438 11.316406 15.917969 9.390625 13.476562 9.390625 Z M 12.523438 11.226562 L 13.375 11.226562 C 13.609375 11.226562 13.792969 11.410156 13.792969 11.640625 L 13.792969 13.941406 C 13.792969 14.089844 13.875 14.234375 14.007812 14.308594 L 14.976562 14.851562 C 15.074219 14.902344 15.144531 14.996094 15.175781 15.105469 C 15.207031 15.210938 15.191406 15.328125 15.132812 15.425781 L 14.726562 16.117188 L 12.75 15.015625 C 12.617188 14.941406 12.535156 14.800781 12.535156 14.648438 L 12.535156 11.226562 Z M 5.890625 3.273438 L 2.101562 3.273438 L 2.101562 5.714844 L 17.273438 5.714844 L 17.273438 3.273438 L 13.484375 3.273438 L 13.484375 4.082031 C 13.484375 4.316406 13.300781 4.5 13.066406 4.5 L 12.632812 4.5 C 12.398438 4.5 12.214844 4.316406 12.214844 4.082031 L 12.214844 3.273438 L 7.160156 3.273438 L 7.160156 4.082031 C 7.160156 4.316406 6.976562 4.5 6.742188 4.5 L 6.308594 4.5 C 6.074219 4.5 5.890625 4.316406 5.890625 4.082031 Z M 5.890625 3.273438 &quot;/&gt;</span></span><br><span class="line"><span class="addition">+&lt;/g&gt;</span></span><br><span class="line"><span class="addition">+&lt;/svg&gt;</span></span><br><span class="line">(END)</span><br></pre></td></tr></table></figure>

<h1 id="é•¿æ¯›è±¡ä¸»é¢˜çš„ä¿®æ”¹"><a href="#é•¿æ¯›è±¡ä¸»é¢˜çš„ä¿®æ”¹" class="headerlink" title="é•¿æ¯›è±¡ä¸»é¢˜çš„ä¿®æ”¹"></a>é•¿æ¯›è±¡ä¸»é¢˜çš„ä¿®æ”¹</h1><p>ä»£ç å› ä¸»é¢˜è€Œå¼‚ï¼Œç”±äºç¬”è€…æœªä»‹ç»è¿‡å¦‚ä½•å®‰è£…ä¸»é¢˜ï¼Œæ‰€ä»¥åªç®€ç•¥åœ°è¯´ä¸€ä¸‹ï¼š<br>é¦–å…ˆåœ¨æµ‹è¯•ç¯å¢ƒçš„ç½‘é¡µç«¯æˆ–å·²ç»ä¸Šçº¿çš„ç½‘é¡µç«¯ï¼ŒæŒ‰F12æŸ¥çœ‹å…ƒç´ ï¼Œå¤§æ¦‚åœ¨å³ä¸‹è§’å¯ä»¥ä¿®æ”¹æ ·å¼ã€‚è°ƒæ•´æŸäº›æ•°å€¼ï¼Œç›´åˆ°é”™ä½è§£å†³ä»¥åï¼Œå†åœ¨æ ·å¼çš„.scssæ–‡ä»¶æœç´¢è¿™ä¸ªå…ƒç´ çš„<code>class</code>åç§°ï¼Œå¯¹å…¶ä¸­çš„æ•°æ®è¿›è¡Œä¿®æ”¹ã€‚<br>æ€»ä¹‹ï¼Œè¿™ä¸ªè¿‡ç¨‹æ¯”é­”æ”¹è®¡åˆ’å‘æ–‡æ›´å®¹æ˜“ä¾æ ·ç”»è‘«èŠ¦ã€‚</p>
<h1 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h1><p>è¿™ä¸ªä»£ç å¹¶éå®Œæˆç‰ˆã€‚ä»”ç»†çœ‹äº†å°±ä¼šå‘ç°ï¼Œæ—¶åŒºä»…é™ä¸œå…«åŒºã€‚è¿™æ˜¯å› ä¸ºæˆ‘è¿˜æ²¡è®¾è®¡å‡ºé€‰æ‹©æ—¶åŒºçš„ç•Œé¢ï¼Œä¹Ÿä¸çŸ¥é“è¯¥å¦‚ä½•å®ç°ã€‚ä¸‹æ¬¡æœ‰æ—¶é—´ä¸€å®šè¡¥ä¸Šã€‚</p>
</div><div class="post-copyright valine" id="comments-container"><script src="//unpkg.com/valine@1.4.14/dist/Valine.min.js"></script><script>let arr = location.href.split('/#more')[0].split('/');
let title = arr[arr.length - 1];
if (title === '') {
    title = arr[arr.length - 2];
}
var flag = false;
var gitFun = function () {
    try {
        var valineObj = window.GLOBAL_CONFIG.valine;
        new Valine({
            el: "#comments-container",
            ...valineObj
        });
        flag = true;
    } catch (e) {
        flag = false;
    }
}
var setIn = setInterval(() => {
    if (!flag) {
        gitFun();
    } else {
        clearInterval(setIn);
    }
}, 200);</script></div></article><div id="pagination"><div class="prev-post pull-left"><span class="line line-top"></span><span class="line line-right"></span><span class="line line-bottom"></span><span class="line line-left"></span><a href="../../18/mastodon-b2-cdn/"><i class="fas fa-angle-left">&nbsp;</i><span>é•¿æ¯›è±¡é…ç½®b2å¯¹è±¡å­˜å‚¨ä¸å®Œå…¨æ•™ç¨‹</span></a></div><div class="next-post pull-right"><span class="line line-top"></span><span class="line line-right"></span><span class="line line-bottom"></span><span class="line line-left"></span><a href="../../../04/12/migrating-instance/"><span>é•¿æ¯›è±¡å®ä¾‹è¿ç§»</span><span>&nbsp;</span><i class="fas fa-angle-right"></i></a></div></div><!--div!= paginator()--></div></div><div class="button-hover" id="return-top"><i class="fas fa-arrow-up" aria-hidden="true"></i></div><footer><div id="footer"><div class="button-hover" id="side-button"><i class="fas fa-arrow-right"></i></div><div class="right-content"><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fas fa-file-o"></i></span><span id="busuanzi_value_page_pv"></span><span></span></div><div class="copyright">&copy;2025 By å¦™ç“¦è‰</div></div></div></footer></div><!--js(src=url_for(url) + '?version=' + version())--><script src="../../../../js/thirdparty/jquery-3.3.1.min.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="../../../../js/thirdparty/velocity.min.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="../../../../js/thirdparty/jquery.mCustomScrollbar.concat.min.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="../../../../js/fan.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="../../../../js/canvas_bg.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="../../../../js/utils.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="../../../../js/scroll.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="../../../../js/sidebar.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="../../../../js/copy.js"></script><!--script(src=url)--><div class="search-dialog"><div id="algolia-search-title">Algolia</div><div class="search-close-button"><i class="fa fa-times"></i></div><!--div#current-refined-values--><!--div#clear-all--><div id="search-box"></div><!--div#refinement-list--><hr><div id="hits"></div><div id="algolia-pagination"></div></div><div class="search-mask"></div><script src="../../../../js/search/algolia.js"></script></body></html>